<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>注册 -MyBlog</title>
	<link rel="stylesheet" href="js/bootstrap.min.css">
	<script src="js/xmlhttp.js"> </script>
<style>
 
 body{
		padding-top: 50px;
		background:url('bg2.jpeg') no-repeat; 

	}
	
	#content{
		margin-top: 50px;
		height: 400px;
		width: 400px;
		border: #2B2B2B 1px solid;
		background:#FFFFFF ;
		border-radius: 8%;
	}
	#tip1{
		color: red;
		padding-left: 5px;
 
 
		margin-top: 10px;
	}
	#tip0{
		color: red;
		padding-left: 5px;
	 
	 
		margin-top: 10px;
	}
 
</style>
</head>

<body>
  	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  	<div class="container">
  		<div class="navbar-header">
  			<a href="http://localhost:8333/home.html" class="navbar-brand">My Blog</a>
  		</div>
  		
  		<div class="collapse navbar-collapse ">
  			<ul class="nav navbar-nav navbar-right">
  				
  				<li class="nav-item"><a href="#">MyZone</a></li>
  				<li class="nav-item"><a href="#">Andmore</a></li>
				<li class="login" id="login"><a  id ="login-a"href="./form.html" style="w">登录</a></li>
  			</ul>
  		</div>
  		
  	</div>
  </nav>

 <!-- content -->
	<div class="container col-md-offset-7" id="content">
		<div class="header">
			<h2 style="text-align: center;">注册</h2>
		</div>
		<!-- form -->
		<form action="/register" method="POST" class="form-horizontal  ">
			
			 <div class="form-group">
				 <label class="col-md-3 control-label" style="text-align: center;">Email</label>
				 <div class="col-md-7">
					 <input type="text" class="form-control " id="email" name="email" placeholder="email">
					 <span id ="tip0"></span>
				 </div>
			 </div>			
			
			 <div class="form-group">
				 <label class="col-md-3 control-label">Username</label>
				 <div class="col-md-7">
					 <input type="text" class="form-control " id="username" name="username" placeholder="username">
					 <span id ="tip1"></span>
				 </div>
			 </div>
			 
			 <div class="form-group">
			 				 <label class="col-md-3 control-label">Nickname</label>
			 				 <div class="col-md-7">
			 					 <input type="text" class="form-control" id="name" placeholder="nickname" name="name">
			 				 </div>
			 </div>
		
			<div class="form-group">
				<label class="col-md-3 control-label">Password</label>
				<div class="col-md-7">
					<input type="password" class="form-control "  id ="password"name="password" placeholder="Password">
				</div>
			 </div>
			 
			 <div class="form-group">
				 <div class="col-md-offset-6 ">
					 <button type="submit" class="btn btn-success">注册</button>
				 </div>
			 </div>
		</form>
	</div>	




</body>
<script>
	window.onload =function(){
		function $(id){
			return typeof id==='string'?document.getElementById(id):null;
		}
	 
 
		$('username').onblur =function(){
			
			urlCall('/compareRegister',`${$('username').value}`,"POST",function(r){
			
			var rr = JSON.parse(r);
		
			if(rr=='not')
			{
				$('tip1').innerText="";
				 
			}else{
				$('tip1').innerText='用户名已经存在';
				
			}
			
          })
		}
		
		$('email').onblur =function(){
			
		/*邮箱查重*/
		urlCall('/compareEmail',`${$('email').value}`,"POST",function(r){
		
		var rr = JSON.parse(r);
		if(rr=='not')
		{
			$('tip0').innerText="";
			 
		}else{
			$('tip0').innerText='邮箱已经存在';
			
		}
		
		
		})
		}		
		
				
		
	}
</script>
</html>